"use strict";(self.webpackChunkelemental_selenium=self.webpackChunkelemental_selenium||[]).push([[20917,36215],{36215:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>o});var a=n(74848),r=n(28453);const i={},s=void 0,l={id:"javascript-alerts/_javascript",title:"_javascript",description:"Example",source:"@site/tips/51-javascript-alerts/_javascript.mdx",sourceDirName:"51-javascript-alerts",slug:"/javascript-alerts/_javascript",permalink:"/tips/javascript-alerts/_javascript",draft:!1,unlisted:!1,editUrl:"https://github.com/saucelabs/elemental-next/blob/main/frontend/tips/51-javascript-alerts/_javascript.mdx",tags:[],version:"current",lastUpdatedBy:"renovate[bot]",lastUpdatedAt:1730295772e3,frontMatter:{},sidebar:"defaultSidebar",previous:{title:"_java",permalink:"/tips/javascript-alerts/_java"},next:{title:"_python",permalink:"/tips/javascript-alerts/_python"}},c={},o=[{value:"Example",id:"example",level:2},{value:"Expected Behavior",id:"expected-behavior",level:2},{value:"Summary",id:"summary",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h2,{id:"example",children:"Example"}),"\n",(0,a.jsxs)(t.p,{children:["Our example application is available ",(0,a.jsx)(t.a,{href:"http://the-internet.herokuapp.com/javascript_alerts",children:"here"})," on ",(0,a.jsx)(t.a,{href:"http://github.com/saucelabs/the-internet",children:"the-internet"}),". It has various JavaScript Alerts available (e.g., an alert, a confirmation, and a prompt). Let's demonstrate testing a confirmation dialog (e.g., a prompt which asks the user to click ",(0,a.jsx)(t.code,{children:"Ok"})," or ",(0,a.jsx)(t.code,{children:"Cancel"}),")."]}),"\n",(0,a.jsx)(t.p,{children:"First, we'll include our requisite libraries, declare the test class, and wire up some simple setup and teardown methods."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:'// filename: test/js-alerts.spec.js\nconst assert = require("assert");\nconst { Builder, By, Key } = require("selenium-webdriver");\n\ndescribe("JS Alerts", function() {\n  let driver;\n\n  beforeEach(async function() {\n    driver = await new Builder().forBrowser("chrome").build();\n  });\n\n  afterEach(async function() {\n    await driver.quit();\n  });\n// ...\n'})}),"\n",(0,a.jsx)(t.p,{children:"Now let's write our test."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:'// filename: test/js-alerts.spec.js\n// ...\n  it("general use", async function() {\n    await driver.get("http://the-internet.herokuapp.com/javascript_alerts");\n    await driver.findElement(By.css("ul > li:nth-child(2) > button")).click();\n    const popup = await driver.switchTo().alert();\n    popup.accept();\n    const result = await driver.findElement(By.id("result")).getText();\n    assert(result == "You clicked: Ok");\n  });\n});\n'})}),"\n",(0,a.jsx)(t.p,{children:"A quick glance at the page's markup shows that there are no unique IDs on the buttons. In order to click on the second button (to trigger the JavaScript confirmation dialog) we need a locator which targets the second item in the unordered list."}),"\n",(0,a.jsxs)(t.p,{children:["After we click the button to trigger the JavaScript Alert we use Selenium's ",(0,a.jsx)(t.code,{children:"switchTo().alert()"})," to focus on the JavaScript pop-up and use ",(0,a.jsx)(t.code,{children:".accept()"})," to click ",(0,a.jsx)(t.code,{children:"Ok"})," (if we wanted to click ",(0,a.jsx)(t.code,{children:"Cancel"})," we would have used ",(0,a.jsx)(t.code,{children:".dismiss()"}),")."]}),"\n",(0,a.jsxs)(t.p,{children:["After accepting the alert, our main browser window will automatically regain focus and the page will display the result that we chose. This text is what we use for our assertion, making sure that the words ",(0,a.jsx)(t.code,{children:"You clicked: Ok"})," are displayed on the page."]}),"\n",(0,a.jsx)(t.h2,{id:"expected-behavior",children:"Expected Behavior"}),"\n",(0,a.jsxs)(t.p,{children:["When we save this file and run it (e.g., ",(0,a.jsx)(t.code,{children:"mocha"})," from the command-line) here is what will happen:"]}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Open the browser"}),"\n",(0,a.jsx)(t.li,{children:"Load the page"}),"\n",(0,a.jsx)(t.li,{children:"Click the second button on the page"}),"\n",(0,a.jsx)(t.li,{children:"JavaScript Confirmation Alert appears"}),"\n",(0,a.jsx)(t.li,{children:"Accept the JavaScript Confirmation Alert"}),"\n",(0,a.jsx)(t.li,{children:"Assert that the result on the page is what we expect"}),"\n",(0,a.jsx)(t.li,{children:"Close the browser"}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,a.jsxs)(t.p,{children:["We've learned how to accept/dismiss Javascript alerts using Selenium Webdriver by locating the alert using Selenium's ",(0,a.jsx)(t.code,{children:"switchTo().alert()"}),". After accepting/dismissing the alert, our main browser window will automatically regain focus and the page will display the result."]}),"\n",(0,a.jsx)(t.p,{children:"Happy Testing!"})]})}function p(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>l});var a=n(96540);const r={},i=a.createContext(r);function s(e){const t=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),a.createElement(i.Provider,{value:t},e.children)}}}]);