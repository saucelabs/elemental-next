import TipCode from "@site/src/components/tipCode";

## TL;DR - Show Me The Code

<TipCode codePath={"6-open-new-window/code/javascript/test/window.spec.js"} language={"js"}/>

## Code Walkthrough

### Importing Libraries

First, we are pulling in our requisite classes our testing framework (e.g., `mocha` and `require("assert")`), and
driving the browser with Selenium (e.g., `const {Builder} = require("selenium-webdriver");`).

### Setup and Teardown

After creating a `describe` to group our tests (e.g., `describe("New Window and New Tab")...`), the following lines
are setting up and tearing down the browser instance.

The `beforeEach` method, will execute before each test. In it, we are launching a new instance of Firefox with
Selenium and storing it in a class variable that we'll use throughout all tests. After our test executes the second
method, `afterEach`, will execute. This calls `driver.quit()` which ends the session by closing the browser instance.

### Open New Window

`opens new window` shows how to open a new window, switch to it, and assert the number of window handles open. They key
to this is the `await driver.switchTo().newWindow('window')` line. Which opens a new window and switches to it.

### Open New Tab

`opens new tab` shows how to open a new tab, switch to it, and assert the number of window handles open. They key to
this is the `await driver.switchTo().newWindow('tab')` line. Which opens a new tab and switches to it.

### Executing the Test

Before executing the test, we need to make sure the required dependencies are declared on the `package.json` file.

<details>
    <summary>Toggle to see the <code>package.json</code> file.</summary>
    <div>
        <TipCode codePath={"6-open-new-window/code/javascript/package.json"} language={"json"}/>
    </div>
</details>

Finally, we can run the test by executing `npm test` from the command-line.
