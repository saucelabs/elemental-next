import TipCode from "@site/src/components/tipCode";

## TL;DR - Show Me The Code

<TipCode codePath={"1-upload-a-file/code/java/src/test/java/com/elemental/selenium/UploadTest.java"} language={"java"}/>

## Code Walkthrough

### Importing Libraries

Lines 3 to 10 are pulling in our requisite classes for annotations (e.g., `org.junit.jupiter.api.BeforeEach`, etc.),
driving the browser with Selenium (e.g., `org.openqa.selenium.WebDriver`, etc.), matchers for assertions
(e.g., `org.junit.jupiter.api.Assertions;`, etc. ), and something to handle local files (e.g., `java.io.File`).

### Setup and Teardown

Lines 15 to 25 are setting up and tearing down the browser instance. The `beforeEach` method, will execute before
each test. In it, we are launching a new instance of Firefox with Selenium and storing it in a class variable that
we'll use throughout all tests. After our test executes the second method, `afterEach`, will execute. This calls
`driver.quit()` which ends the session by closing the browser instance.

### The Test

Lines 29 to 36 are the test itself.

We create an `uploadFile()` method and annotate it with `@Test` so it is run as a test. In it, we create a new file
called `some-file.txt` in the present working directory and get it's absolute path.

Next we visit the page with the upload form, input the string value of `path` (e.g., the full path to the file plus the
filename with it's extension), and submit the form. After the file is uploaded to the page it will display the filename
it just processed. We use this text to perform our assertion (making sure the uploaded file is what we expect).

### Executing the Test

Before executing the test, we need to make sure the required dependencies are declared on the `pom.xml` file.

<details>
    <summary>Toggle to see the <code>pom.xml</code> file.</summary>
    <div>
        <TipCode codePath={"1-upload-a-file/code/java/pom.xml"} language={"xml"}/>
    </div>
</details>

Finally, we can run the test by executing `mvn test` from the command-line.