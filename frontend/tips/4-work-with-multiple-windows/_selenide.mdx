import TipCode from "@site/src/components/tipCode";

## TL;DR - Show Me The Code

<TipCode
    codePath={"4-work-with-multiple-windows/code/selenide/src/test/java/com/elemental/selenium/MultipleWindowsTest.java"}
    language={"java"}/>

## Code Walkthrough

### Importing Libraries, Setup and Teardown

First let's import our requisite classes
 * for annotations (e.g., `org.junit.jupiter.api.Test`),
 * opening the browser with Selenide (e.g., `com.codeborne.selenide.Selenide.open`),
 * matchers for assertions (e.g., `com.codeborne.selenide.Condition.text`)

In the following lines we start our class off with some setup.

### The test

The `multipleWindows` test exercises new window functionality from an application. In this case, we'll be using
[the new window example](https://the-internet.herokuapp.com/windows) from [the-internet](https://github.com/saucelabs/the-internet).

After loading the page we click the link with text "Click Here" which spawns a new window.

We then switch between windows based on their order (assuming that the first one is the originating window, and
the second one is the new window). We round this test out by performing a simple check against the title of
the page to make sure Selenide is focused on the correct window.

### Details

* A pre-condition is checked: the browser has only one window before we start any actions
* Click the link "Click Here"
* Check that now the browser has 2 windows
* Check that the active window is still the first one (we check its title and url)
* Switch to the "new" window (index 0 for the original window, index 1 for the new window)
* Check that the active window is the new one (we check its title and url)

### Executing the Test

Before executing the test, we need to make sure the required dependencies are declared on the `pom.xml` file.

<details>
    <summary>Toggle to see the <code>pom.xml</code> file.</summary>
    <div>
        <TipCode codePath={"4-work-with-multiple-windows/code/selenide/pom.xml"} language={"xml"}/>
    </div>
</details>

Finally, we can run the test by executing `mvn test` from the command-line.